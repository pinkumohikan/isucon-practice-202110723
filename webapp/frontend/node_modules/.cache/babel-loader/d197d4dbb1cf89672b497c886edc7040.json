{"remainingRequest":"/opt/frontend/node_modules/thread-loader/dist/cjs.js!/opt/frontend/node_modules/babel-loader/lib/index.js!/opt/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/frontend/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/frontend/src/views/Search.vue","mtime":1621475513321},{"path":"/opt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/opt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Router from '@/router.js';\nimport { apiService } from \"../services/api.js\";\nexport default {\n  name: 'search',\n  components: {},\n  data: function data() {\n    return {\n      year: 2020,\n      month: 1,\n      day: 1,\n      hour: 6,\n      minute: 0,\n      train_class: \"全て\",\n      from_station_id: 0,\n      to_station_id: 0,\n      adult: \"1\",\n      child: \"0\",\n      stations: []\n    };\n  },\n  computed: {\n    from_station: function from_station() {\n      return apiService.getStation(this.from_station_id);\n    },\n    to_station: function to_station() {\n      return apiService.getStation(this.to_station_id);\n    },\n    usableStations: function usableStations() {\n      var ret = this.stations;\n\n      if (this.train_class == \"最速\") {\n        ret = this.stations.filter(function (station) {\n          return station.is_stop_express;\n        });\n      }\n\n      if (this.train_class == \"中間\") {\n        ret = this.stations.filter(function (station) {\n          return station.is_stop_semi_express;\n        });\n      }\n\n      if (this.train_class == \"遅いやつ\") {\n        ret = this.stations.filter(function (station) {\n          return station.is_stop_local;\n        });\n      }\n\n      return ret;\n    },\n    train_class_query: function train_class_query() {\n      if (this.train_class == \"全て\") {\n        return \"\";\n      }\n\n      return this.train_class;\n    }\n  },\n  methods: {\n    loadStations: function loadStations() {\n      var _this = this;\n\n      apiService.getStations().then(function (res) {\n        console.log(res);\n        _this.stations = res;\n        _this.from_station_id = res[0].id;\n        _this.to_station_id = res[res.length - 1].id;\n      });\n    },\n    search: function search() {\n      var query = {\n        year: this.year,\n        month: this.month,\n        day: this.day,\n        hour: this.hour,\n        minute: this.minute,\n        train_class: this.train_class_query,\n        from_station: this.from_station.name,\n        to_station: this.to_station.name,\n        adult: this.adult,\n        child: this.child\n      };\n      Router.push({\n        path: '/reservation/trains',\n        query: query\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.loadStations();\n  }\n};",null]}